Evaluation operator

A   $regex (regex allow you to search for the text (regex patterns))
B   $expr (expression is useful if you want to compare two field inside one document and then return all document where this comparison returns a certain result)






> db.movies.find({summary : {$regex : /musical/ }}).count()




> use financialData
switched to db financialData
> db.sales.insertMany( [{ volume : 100 , target : 120} , { volume : 89 , target : 80} , {volume : 200 , target : 177}] )
{
        "acknowledged" : true,
        "insertedIds" : [
                ObjectId("611670b1dc997e8080bbab61"),
                ObjectId("611670b1dc997e8080bbab62"),
                ObjectId("611670b1dc997e8080bbab63") 
        ]
}
> db.sales.find().pretty()
{
        "_id" : ObjectId("611670b1dc997e8080bbab61"),
        "volume" : 100,
        "target" : 120
}
{
        "_id" : ObjectId("611670b1dc997e8080bbab62"),
        "volume" : 89,
        "target" : 80
}
{
        "_id" : ObjectId("611670b1dc997e8080bbab63"),
        "volume" : 200,
        "target" : 177
}
> db.sales.find({$expr :{$gt :["$volume","$target"]}}).pretty()    
{
        "_id" : ObjectId("611670b1dc997e8080bbab62"),
        "volume" : 89,                                               
        "target" : 80
}
{
        "_id" : ObjectId("611670b1dc997e8080bbab63"),
        "volume" : 200,
        "target" : 177
}

